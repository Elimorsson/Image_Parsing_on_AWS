<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_261) on Thu Dec 10 00:22:11 IST 2020 -->
<title>Manager</title>
<meta name="date" content="2020-12-10">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Manager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="ManagerMain.html" title="class in manager"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?manager/Manager.html" target="_top">Frames</a></li>
<li><a href="Manager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">manager</div>
<h2 title="Class Manager" class="title">Class Manager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>manager.Manager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Manager</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">Manager Class to run the main Manager Task:
 1. Listen to local application registration messages, create workers if necessary , and put the in the "to-do" queue for the workers
 2. Accept completed tasks from workers , and keep count of how many images left from each registered local application
 3. When local application finished, upload rest of images remaining in ram to s3 and inform the matching local app that the task is done.
 Repeat those 3 steps until termination flag arrive and all remaining tasks are done</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#DELIMITER_BETWEEN_PARSINGS">DELIMITER_BETWEEN_PARSINGS</a></span></code>
<div class="block">value of delimiter between two images in the summary file in s3</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#DELIMITER_BETWEEN_URL_TO_PARSE">DELIMITER_BETWEEN_URL_TO_PARSE</a></span></code>
<div class="block">value of delimiter between url to the parsed task from it in the files that are uploaded to s3 for the local application to download from</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#IMAGE_URL">IMAGE_URL</a></span></code>
<div class="block">String: sqs message attribute for image url</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#LOCAL_ID">LOCAL_ID</a></span></code>
<div class="block">String: sqs message attribute for id of a local application</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#LOCAL_SQS_NAME">LOCAL_SQS_NAME</a></span></code>
<div class="block">String: sqs message attribute of local app Sqs queue name</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#LOCALS_TO_MANAGER_SQS">LOCALS_TO_MANAGER_SQS</a></span></code>
<div class="block">String: name of the registration queue from loacl app to manager</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#MAX_IMG_PER_LOCAL">MAX_IMG_PER_LOCAL</a></span></code>
<div class="block">Integer: Max number of images to save for on local memory for each local application</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#N">N</a></span></code>
<div class="block">String : sqs message attribute of  number of images per worker</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#NUM_OF_FILES">NUM_OF_FILES</a></span></code>
<div class="block">String: sqs message attribute for number of files</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#NUMBER_OF_URLS">NUMBER_OF_URLS</a></span></code>
<div class="block">String : sqs message attributes to determine how many urls were sent from the local appication</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#PARSED_TEXT">PARSED_TEXT</a></span></code>
<div class="block">String: sqs message attribute for the parsed text coming from worker</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static software.amazon.awssdk.regions.Region</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#REGION">REGION</a></span></code>
<div class="block">Region Constant for AWS instances</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#S_3_BUCKET_KEY">S_3_BUCKET_KEY</a></span></code>
<div class="block">String: sqs attribute of bucket object key of a registering local app</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#S_3_BUCKET_NAME">S_3_BUCKET_NAME</a></span></code>
<div class="block">String: sqs attribute of bucket name of a registering local app</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#TEMP_FILE_PREFIX">TEMP_FILE_PREFIX</a></span></code>
<div class="block">String: constant prefix for temp file to upload to s3</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#TERMINATE">TERMINATE</a></span></code>
<div class="block">String: sqs attributes for sqs messages for terminate command from locals</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#USER_DATA_WORKER">USER_DATA_WORKER</a></span></code>
<div class="block">String: bash command to initialize the worker instances with</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#WORKER">WORKER</a></span></code>
<div class="block">String: constant for the worker tag</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#WORKER_AMI_ID">WORKER_AMI_ID</a></span></code>
<div class="block">String: worker image id to create workers with (ami id)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#WORKER_ARN">WORKER_ARN</a></span></code>
<div class="block">String: Worker ARN constant</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#WORKERS_SQS">WORKERS_SQS</a></span></code>
<div class="block">String: name of the queue to send tasks that remained to do for workers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#WORKERS_TO_MANAGER_SQS">WORKERS_TO_MANAGER_SQS</a></span></code>
<div class="block">String : name of the queue to send completed tasks from workers to manager</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../manager/Manager.html#Manager--">Manager</a></span>()</code>
<div class="block">constructor for the manager application</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#emptyAndDeleteBucket-software.amazon.awssdk.services.s3.S3Client-java.lang.String-">emptyAndDeleteBucket</a></span>(software.amazon.awssdk.services.s3.S3Client&nbsp;s3,
                    java.lang.String&nbsp;bucket)</code>
<div class="block">Empty bucket and delete it from s3</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#getQueueUrl-software.amazon.awssdk.services.sqs.SqsClient-java.lang.String-">getQueueUrl</a></span>(software.amazon.awssdk.services.sqs.SqsClient&nbsp;sqsClient,
           java.lang.String&nbsp;queueName)</code>
<div class="block">Get the url of a current queue</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#init--">init</a></span>()</code>
<div class="block">function to initialize all data structures and AWS instances for the communication</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#run--">run</a></span>()</code>
<div class="block">main Manager task:
 1.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../manager/Manager.html#runWithoutThreads--">runWithoutThreads</a></span>()</code>
<div class="block">Run all manager tasks in a single thread in order,until termination message arrives and all tasks are finished</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="WORKERS_SQS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WORKERS_SQS</h4>
<pre>public static final&nbsp;java.lang.String WORKERS_SQS</pre>
<div class="block">String: name of the queue to send tasks that remained to do for workers</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.WORKERS_SQS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WORKERS_TO_MANAGER_SQS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WORKERS_TO_MANAGER_SQS</h4>
<pre>public static final&nbsp;java.lang.String WORKERS_TO_MANAGER_SQS</pre>
<div class="block">String : name of the queue to send completed tasks from workers to manager</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.WORKERS_TO_MANAGER_SQS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOCALS_TO_MANAGER_SQS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCALS_TO_MANAGER_SQS</h4>
<pre>public static final&nbsp;java.lang.String LOCALS_TO_MANAGER_SQS</pre>
<div class="block">String: name of the registration queue from loacl app to manager</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.LOCALS_TO_MANAGER_SQS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="IMAGE_URL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IMAGE_URL</h4>
<pre>public static final&nbsp;java.lang.String IMAGE_URL</pre>
<div class="block">String: sqs message attribute for image url</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.IMAGE_URL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOCAL_ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCAL_ID</h4>
<pre>public static final&nbsp;java.lang.String LOCAL_ID</pre>
<div class="block">String: sqs message attribute for id of a local application</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.LOCAL_ID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NUM_OF_FILES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NUM_OF_FILES</h4>
<pre>public static final&nbsp;java.lang.String NUM_OF_FILES</pre>
<div class="block">String: sqs message attribute for number of files</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.NUM_OF_FILES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOCAL_SQS_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCAL_SQS_NAME</h4>
<pre>public static final&nbsp;java.lang.String LOCAL_SQS_NAME</pre>
<div class="block">String: sqs message attribute of local app Sqs queue name</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.LOCAL_SQS_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="S_3_BUCKET_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>S_3_BUCKET_NAME</h4>
<pre>public static final&nbsp;java.lang.String S_3_BUCKET_NAME</pre>
<div class="block">String: sqs attribute of bucket name of a registering local app</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.S_3_BUCKET_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="S_3_BUCKET_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>S_3_BUCKET_KEY</h4>
<pre>public static final&nbsp;java.lang.String S_3_BUCKET_KEY</pre>
<div class="block">String: sqs attribute of bucket object key of a registering local app</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.S_3_BUCKET_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="REGION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REGION</h4>
<pre>public static final&nbsp;software.amazon.awssdk.regions.Region REGION</pre>
<div class="block">Region Constant for AWS instances</div>
</li>
</ul>
<a name="PARSED_TEXT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PARSED_TEXT</h4>
<pre>public static final&nbsp;java.lang.String PARSED_TEXT</pre>
<div class="block">String: sqs message attribute for the parsed text coming from worker</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.PARSED_TEXT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TEMP_FILE_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TEMP_FILE_PREFIX</h4>
<pre>public static final&nbsp;java.lang.String TEMP_FILE_PREFIX</pre>
<div class="block">String: constant prefix for temp file to upload to s3</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.TEMP_FILE_PREFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TERMINATE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TERMINATE</h4>
<pre>public static final&nbsp;java.lang.String TERMINATE</pre>
<div class="block">String: sqs attributes for sqs messages for terminate command from locals</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.TERMINATE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WORKER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WORKER</h4>
<pre>public static final&nbsp;java.lang.String WORKER</pre>
<div class="block">String: constant for the worker tag</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.WORKER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NUMBER_OF_URLS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NUMBER_OF_URLS</h4>
<pre>public static final&nbsp;java.lang.String NUMBER_OF_URLS</pre>
<div class="block">String : sqs message attributes to determine how many urls were sent from the local appication</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.NUMBER_OF_URLS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WORKER_AMI_ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WORKER_AMI_ID</h4>
<pre>public static final&nbsp;java.lang.String WORKER_AMI_ID</pre>
<div class="block">String: worker image id to create workers with (ami id)</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.WORKER_AMI_ID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WORKER_ARN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WORKER_ARN</h4>
<pre>public static final&nbsp;java.lang.String WORKER_ARN</pre>
<div class="block">String: Worker ARN constant</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.WORKER_ARN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="N">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>N</h4>
<pre>public static final&nbsp;java.lang.String N</pre>
<div class="block">String : sqs message attribute of  number of images per worker</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.N">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="USER_DATA_WORKER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USER_DATA_WORKER</h4>
<pre>public static final&nbsp;java.lang.String USER_DATA_WORKER</pre>
<div class="block">String: bash command to initialize the worker instances with</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.USER_DATA_WORKER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_IMG_PER_LOCAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_IMG_PER_LOCAL</h4>
<pre>public static final&nbsp;int MAX_IMG_PER_LOCAL</pre>
<div class="block">Integer: Max number of images to save for on local memory for each local application</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.MAX_IMG_PER_LOCAL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DELIMITER_BETWEEN_URL_TO_PARSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DELIMITER_BETWEEN_URL_TO_PARSE</h4>
<pre>public static final&nbsp;int DELIMITER_BETWEEN_URL_TO_PARSE</pre>
<div class="block">value of delimiter between url to the parsed task from it in the files that are uploaded to s3 for the local application to download from</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.DELIMITER_BETWEEN_URL_TO_PARSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DELIMITER_BETWEEN_PARSINGS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DELIMITER_BETWEEN_PARSINGS</h4>
<pre>public static final&nbsp;int DELIMITER_BETWEEN_PARSINGS</pre>
<div class="block">value of delimiter between two images in the summary file in s3</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#manager.Manager.DELIMITER_BETWEEN_PARSINGS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Manager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Manager</h4>
<pre>public&nbsp;Manager()</pre>
<div class="block">constructor for the manager application</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init()</pre>
<div class="block">function to initialize all data structures and AWS instances for the communication</div>
</li>
</ul>
<a name="runWithoutThreads--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runWithoutThreads</h4>
<pre>public&nbsp;void&nbsp;runWithoutThreads()</pre>
<div class="block">Run all manager tasks in a single thread in order,until termination message arrives and all tasks are finished</div>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">main Manager task:
 1. Listen to local application registration messages, create workers if necessary , and put the in the "to-do" queue for the workers
 2. Accept completed tasks from workers , and keep count of how many images left from each registered local application
 3. When local application finished, upload rest of images remaining in ram to s3 and inform the matching local app that the task is done.
 Repeat those 3 steps until termination flag arrive and all remaining tasks are done</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="emptyAndDeleteBucket-software.amazon.awssdk.services.s3.S3Client-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emptyAndDeleteBucket</h4>
<pre>public&nbsp;void&nbsp;emptyAndDeleteBucket(software.amazon.awssdk.services.s3.S3Client&nbsp;s3,
                                 java.lang.String&nbsp;bucket)</pre>
<div class="block">Empty bucket and delete it from s3</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s3</code> - S3Client object to send request with</dd>
<dd><code>bucket</code> - String: bucket to delete</dd>
</dl>
</li>
</ul>
<a name="getQueueUrl-software.amazon.awssdk.services.sqs.SqsClient-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getQueueUrl</h4>
<pre>public&nbsp;java.lang.String&nbsp;getQueueUrl(software.amazon.awssdk.services.sqs.SqsClient&nbsp;sqsClient,
                                    java.lang.String&nbsp;queueName)</pre>
<div class="block">Get the url of a current queue</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sqsClient</code> - sqs cl;ient object to content the AWS SQS service</dd>
<dd><code>queueName</code> - name of the queue to search url for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>url of the desired queue</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="ManagerMain.html" title="class in manager"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?manager/Manager.html" target="_top">Frames</a></li>
<li><a href="Manager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
